(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(17),c=n.n(i),o=n(8),d=n(14),l=n(24),u=n(15),s=function(e){return{type:E.ADD_LIST,payload:e}},p=function(e){return{type:E.DELETE_LIST,listId:e}},f=function(e,t,n,a,r,i){return{type:E.DRAG_HAPPENED,payload:{droppableIdStart:e,droppableIdEnd:t,droppableIndexStart:n,droppableIndexEnd:a,draggableId:r,type:i}}},b=function(e,t){return{type:E.ADD_CARD,payload:{text:t,listID:e}}},m=function(e,t){return{type:E.DELETE_CARD,payload:{cardID:e,listID:t}}},E={ADD_CARD:"ADD_CARD",ADD_LIST:"ADD_LIST",DELETE_CARD:"DELETE_CARD",DELETE_LIST:"DELETE_LIST",DRAG_HAPPENED:"DRAG_HAPPENED"},g=n(141),h=JSON.parse(localStorage.getItem("lastEdited")),v=[{title:"Backlog",id:Object(g.a)(),cards:[{id:Object(g.a)(),text:"to create the newCardForm",createdAt:+new Date},{id:Object(g.a)(),text:"to make an authorization form and cabinet",createdAt:+new Date}]},{title:"In Progress",id:Object(g.a)(),cards:[{id:Object(g.a)(),text:"first step in Progress..",createdAt:+new Date}]}],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h||v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_LIST:var n={title:t.payload,cards:[],id:Object(g.a)()};return[].concat(Object(u.a)(e),[n]);case E.DELETE_LIST:var a=e.filter(function(e){return e.id!==t.listId});return localStorage.setItem("lastEdited",JSON.stringify(a)),a;case E.ADD_CARD:var r={text:t.payload.text,id:Object(g.a)(),createdAt:+new Date},i=e.map(function(e){return e.id===t.payload.listID?Object(l.a)({},e,{cards:[].concat(Object(u.a)(e.cards),[r])}):e});return localStorage.setItem("lastEdited",JSON.stringify(i)),i;case E.DELETE_CARD:var c=e.map(function(e){if(e.id===t.payload.listID){var n=e.cards.filter(function(e){return e.id!==t.payload.cardID});return Object(l.a)({},e,{cards:Object(u.a)(n)})}return e});return localStorage.setItem("lastEdited",JSON.stringify(c)),c;case E.DRAG_HAPPENED:var o=t.payload,d=o.droppableIdStart,s=o.droppableIdEnd,p=o.droppableIndexStart,f=o.droppableIndexEnd,b=o.type,m=Object(u.a)(e);if("list"===b){var D=m.splice(p,1);return m.splice.apply(m,[f,0].concat(Object(u.a)(D))),m}if(d===s){var O,j=e.find(function(e){return d===e.id}),y=j.cards.splice(p,1);(O=j.cards).splice.apply(O,[f,0].concat(Object(u.a)(y)))}if(d!==s){var I,A=e.find(function(e){return d===e.id}).cards.splice(p,1);(I=e.find(function(e){return s===e.id}).cards).splice.apply(I,[f,0].concat(Object(u.a)(A)))}return m;default:return e}},O=Object(d.c)({lists:D}),j=n(61),y=Object(d.a)(j.a),I=Object(d.e)(O,y),A=n(18),x=n(19),w=n(21),S=n(20),C=n(22),L=n(11),_=n(69),k=n(142),R=n(139),T=n(138),P=n(23),B=n(12),F=n(137);function G(){var e=Object(L.a)(["\ncursor: pointer;\ncolor: gray\n"]);return G=function(){return e},e}var H=B.a.div(G()),N=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={},n.handleDeleteCard=function(){var e=n.props,t=e.dispatch,a=e.id,r=e.listID;t(m(a,r))},n.renderDeleteCardButton=function(){return r.a.createElement(H,{onClick:n.handleDeleteCard},r.a.createElement(F.a,null,"delete"))},n}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return this.renderDeleteCardButton()}}]),t}(a.Component),J=Object(o.b)()(N);function z(){var e=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 12px;\n  "]);return z=function(){return e},e}function M(){var e=Object(L.a)(["\n  margin-bottom: 8px;\n"]);return M=function(){return e},e}var W=B.a.div(M()),$=B.a.div(z()),q=function(e){var t=e.text,n=e.id,a=e.listID,i=e.index,c=e.createdAt;return r.a.createElement(P.b,{draggableId:String(n),index:i},function(e){return r.a.createElement(W,null,r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement(k.a,null,r.a.createElement(T.a,null,r.a.createElement($,null,r.a.createElement(R.a,{gutterBottom:!0},t),r.a.createElement(J,{listID:a,id:n})),r.a.createElement(R.a,null,"Last modified: ",c)))))})},K=n(68),Q=n(140),U=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={formOpen:!1,text:""},n.openForm=function(){n.setState({formOpen:!0})},n.closeForm=function(e){n.setState({formOpen:!1})},n.handleAddList=function(){var e=n.props.dispatch,t=n.state.text;t&&(n.setState({text:""}),e(s(t)))},n.handleAddCard=function(){var e=n.props,t=e.dispatch,a=e.listID,r=n.state.text;r&&(n.setState({text:""}),t(b(a,r)))},n.handleInputChange=function(e){n.setState({text:e.target.value})},n.renderAddButton=function(){var e=n.props.list,t=e?" Add another list":"Add another card",a=e?1:.5,i=e?"white":"inherit",c=e?"rgba(0,0,0,.15":"inherit";return r.a.createElement("div",{onClick:n.openForm,style:Object(l.a)({},V.openFormButtonGroup,{opacity:a,color:i,backgroundColor:c})},r.a.createElement(F.a,null,"add"),r.a.createElement("p",null,t))},n.renderForm=function(){var e=n.props.list,t=e?"Enter list title..":"Enter a title for this card...",a=e?"Add List":"Add Card";return r.a.createElement("div",null,r.a.createElement(k.a,{style:{overflow:"visible",minHeight:80,minWidth:272,padding:"6px 8px 2px"}},r.a.createElement(K.a,{placeholder:t,autoFocus:!0,onBlur:n.closeForm,value:n.state.text,onChange:n.handleInputChange,style:{resize:"none",width:"100%",overflow:"hidden",outline:"none",border:"none"}})),r.a.createElement("div",{style:V.formButtonGroup},r.a.createElement(Q.a,{onMouseDown:e?n.handleAddList:n.handleAddCard,variant:"contained",style:{color:"white",backgroundColor:"#5aac44"}},a),r.a.createElement(F.a,{style:{marginLeft:8,cursor:"pointer"}},"close")))},n}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return this.state.formOpen?this.renderForm():this.renderAddButton()}}]),t}(a.Component),V={openFormButtonGroup:{display:"flex",alignItems:"center",cursor:"pointer",borderRadius:3,height:36,width:272,paddingLeft:10},formButtonGroup:{marginTop:8,display:"flex",alignItems:"center"}},X=Object(o.b)()(U);function Y(){var e=Object(L.a)(["\ncursor: pointer;\ncolor: gray\n"]);return Y=function(){return e},e}var Z=B.a.div(Y()),ee=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={},n.handleDeleteList=function(){var e=n.props,t=e.dispatch,a=e.id;t(p(a))},n.renderDeleteButton=function(){return r.a.createElement(Z,{onClick:n.handleDeleteList},r.a.createElement(F.a,null,"close"))},n}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return this.renderDeleteButton()}}]),t}(a.Component),te=Object(o.b)()(ee);function ne(){var e=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 12px;\n  "]);return ne=function(){return e},e}function ae(){var e=Object(L.a)(["\n  background: rgba(255, 255, 255, 0.75);\n  border-radius: 5px;\n  width: 300px;\n  height: 100%;\n  margin-right: 8px;\n  padding: 8px;\n"]);return ae=function(){return e},e}var re=B.a.div(ae()),ie=B.a.div(ne()),ce=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:+new Date)-e;return t<6e4?"just a moment ago":t<36e5?"".concat(Math.floor(t/6e4)," minutes ago"):t<36e5?"".concat(Math.floor(t/36e5)," hours ago"):"Long time ago..."},oe=function(e){var t=e.title,n=e.cards,i=e.listID,c=e.index,o=Object(a.useState)([]),d=Object(_.a)(o,2),s=d[0],p=d[1];return Object(a.useEffect)(function(){var e=n.reduce(function(e,t){return[].concat(Object(u.a)(e),[Object(l.a)({},t,{createdAt:ce(t.createdAt)})])},[]);p(e);var t=setInterval(function(){p(n.reduce(function(e,t){return[].concat(Object(u.a)(e),[Object(l.a)({},t,{createdAt:ce(t.createdAt)})])},[]))},6e4);return function(){clearInterval(t)}},[n]),r.a.createElement(P.b,{draggableId:String(i),index:c},function(e){return r.a.createElement(re,Object.assign({},e.draggableProps,{ref:e.innerRef},e.dragHandleProps),r.a.createElement(P.c,{droppableId:String(i)},function(e){return r.a.createElement("div",Object.assign({},e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(ie,null,r.a.createElement("h2",null,t),r.a.createElement(te,{id:i})),s&&s.map(function(e,t){return r.a.createElement(q,{key:e.id,text:e.text,createdAt:e.createdAt,id:e.id,listID:i,index:t})}),r.a.createElement(X,{listID:i}))}))})};function de(){var e=Object(L.a)(["\n  margin: 8px;\n  padding: 8px;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: row;\n"]);return de=function(){return e},e}var le=B.a.div(de()),ue=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(w.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).onDragEnd=function(e){var t=e.destination,a=e.source,r=e.draggableId,i=e.type;t&&n.props.dispatch(f(a.droppableId,t.droppableId,a.index,t.index,r,i))},n}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.lists;return r.a.createElement(P.a,{onDragEnd:this.onDragEnd},r.a.createElement("div",null,r.a.createElement(P.c,{droppableId:"all-lists",direction:"horizontal",type:"list"},function(t){return r.a.createElement(le,Object.assign({},t.droppableProps,{ref:t.innerRef}),e.map(function(e,t){return r.a.createElement(oe,{listID:e.id,key:e.id,title:e.title,cards:e.cards,index:t})}),t.placeholder,r.a.createElement(X,{list:!0}))})))}}]),t}(a.Component),se=Object(o.b)(function(e){return{lists:e.lists}})(ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:I},r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},75:function(e,t,n){e.exports=n(118)}},[[75,1,2]]]);
//# sourceMappingURL=main.2a839ba4.chunk.js.map